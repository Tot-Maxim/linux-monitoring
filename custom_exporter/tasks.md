# Постановка задачи

## Основная цель
Создать систему мониторинга, которая будет проверять доступность кастомных сайтов (Google, VK, Yandex, GitHub) с помощью команды `curl`, формировать метрики для **Prometheus** и интегрироваться с **Node Exporter Textfile Collector**. Все скрипты должны быть написаны на **Bash** и размещены в директории **Linux** под названием `custom_exporter`.

---

### Шаги реализации

1. **Создание скрипта `script_for_curl.sh`**
   - Напишите Bash-скрипт, который будет выполнять HTTP-запросы к сайтам: Google, VK, Yandex и GitHub.
   - Для каждого сайта выполните команду `curl` один раз.
   - Результаты запросов (HTTP-статус и время ответа) сохраните в файл `curl_result`.

2. **Настройка планировщика Cron**
   - Настройте Cron так, чтобы скрипт `script_for_curl.sh` запускался автоматически каждую минуту.
   - Это обеспечит регулярное обновление данных о доступности сайтов.

3. **Создание скрипта `bash_metrics.sh`**
   - Напишите второй Bash-скрипт, который будет анализировать данные из файла `curl_result`.
   - На основе этих данных создайте метрики в формате OpenMetrics, подходящем для Prometheus.
   - Метрики должны включать:
     - HTTP-статус код для каждого сайта.
     - Время ответа сервера для каждого сайта.

4. **Сохранение метрик для Node Exporter**
   - Сохраните сформированные метрики в файл `final_metrics`.
   - Этот файл должен быть совместим с Node Exporter Textfile Collector, чтобы Prometheus мог собирать данные автоматически.

5. **Оптимизация и модернизация**
   - Упростите или оптимизируйте программу несколькими способами:
     - Объедините два скрипта (`script_for_curl.sh` и `bash_metrics.sh`) в один большой скрипт.
     - Используйте параллельное выполнение запросов для ускорения работы.
   - Все изменения должны быть реализованы только с использованием Bash.

---

### Ожидаемый результат

1. **Регулярный мониторинг сайтов**:
   - Каждую минуту выполняются HTTP-запросы к сайтам Google, VK, Yandex и GitHub.
   - Результаты запросов сохраняются в файл `curl_result`.

2. **Формирование метрик**:
   - Данные из файла `curl_result` преобразуются в метрики Prometheus в формате OpenMetrics.
   - Метрики сохраняются в файл `final_metrics`, который может быть собран Node Exporter Textfile Collector.

3. **Оптимизация**:
   - Программа работает эффективно за счет объединения логики в один скрипт или использования параллельных запросов.

---

### Такая система позволит:
- Автоматически отслеживать доступность популярных сайтов.
- Получать метрики для анализа производительности и доступности.
- Интегрировать данные в Prometheus для дальнейшего мониторинга и визуализации.
