### Добро пожаловать в репозиторий под названием Linux

#### Начало

- В этой части мы поднимем мониторинг: **Grafana + Prometheus + Node Exporter** и научимся настраивать эту связку в разрезе **Linux**.

- Задания написаны с техническим уклоном в мониторинг и в **Linux** (то есть **Git** мы здесь не изучаем, но минимально пощупаем) и таким образом, что о тех инструментах, которые в них используются, спрашивают в 90% случаев на собеседованиях по части **Linux** у джунов:
  - DevOps/SRE
  - Инженеров по сопровождению
  - Инженеров по мониторингу
  - Администраторов Linux
- Если грубо говоря, то этот учебный репозиторий охватывает на 90% рутину вышеперечисленных должностей в базе 
- Задания носят больше лабораторный характер, и я это понимаю, но они позволят наработать нужную практику для успешного прохождения собеседования. Где-то нужно будет подумать над заданиями, а где-то я даю подсказки.

- Сразу всё задание со всеми пунктами через [ChatGPT (Qwen)](https://chat.qwenlm.ai/ "Переход на оф. сайт Qwen") не прогоняем, иначе не пройдем собеседование (пользуемся только Qwen по точечным запросам, к примеру, **как работает команда на выдачу прав**, потому что это сильно быстрее, чем поиск в Google).

- Делаем пункты строго по очереди, не перепрыгиваем!

#### Цель

- Мы частично поработаем с **Git**, научимся [клонировать](https://git-scm.com/book/ru/v2/%d0%9e%d1%81%d0%bd%d0%be%d0%b2%d1%8b-Git-%d0%a1%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-Git-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d1%8f#r_git_cloning "Для получения копии существующего Git-репозитория, например, проекта, в который вы хотите внести свой вклад, необходимо использовать команду git clone") учебные репозитории себе на тачку и научимся делать форки (этот репозиторий сделан таким образом, чтобы сделать форк для вашего будущего проекта мониторинга):
  - [Сделаем форк](https://habr.com/ru/companies/yandex_praktikum/articles/700708/ "Это означает, что GitHub создаст вашу собственную копию проекта") этого репозитория к себе в **GitHub**
  - Настроим доступ по **SSH** с вашего рабочего ПК до удаленного репозитория (который форкнули)
  - После любых успешных изменений в ваших конфиг-файлах и в коде будем пушить их в ваш форкнутый репозиторий, то есть будем учиться сразу, как взрослые на практике
- По заданиям мы скачаем и вручную распакуем архивы с бинарями: **системы мониторинга Prometheus**, **Grafana GUI** и **экспортера Node Exporter**
- Опишем их автозапуск файлами юнитов (**Unit**)
- Проверим запуск бэкенда мониторинга на веб-морде, параллельно проводя дебаг каждого приложения
- Далее напишем мини-автоматизацию этой рутины на **Bash**
- Сделаем тестовую миграцию на склонированную виртуальную машину **Ubuntu**
- В будущих уроках затронем тему автоматизации с помощью **Ansible**
- В разрезе настройки бэкенда мониторинга: пропишем **Prometheus**, как data source в **Grafana** и натравим **Prometheus** на **Node Exporter** (когда **Prometheus** собирает данные с экспортеров - это называется скрэйпинг (scrape), помним о том, что экспортеры в сам **Prometheus** ничего не отправляют, **Prometheus** опрашивает их по протоколу **HTTP** на основе таргетов конфиг файла)
- Напишем нагрузочное тестирование [Pushgateway](https://github.com/prometheus/pushgateway "Составной компонент Prometheus, работающий по модели PUSH") через проброс метрик утилитой **Curl**:
  - Метрики будем генерить скриптом Bash в формате [Open Metrics](https://github.com/prometheus/OpenMetrics/tree/main "OpenMetrics a specification built upon and carefully extending Prometheus exposition format in almost 100% backwards-compatible ways")
  - Скрипт будет подсчитывать количество метрик
  - Скрипт будет распараллелен по потокам
- Скачаем и подгрузим дашборды в формате **JSON** в **Grafana**:
  - Изучим четыре золотых сигнала (4 Golden Signals) и научимся применять их на практике
  - Нарисуем (создадим) вручную дашборды и виджеты
  - Научимся работать с кастомными метриками, задействуя **Textfile Collector** в **Node Exporter**
  - Изучим минимальные основы **PromQL** (базовый язык работы с БД TSDB в **Prometheus**)
- То есть поработаем, как в разрезе настройки бэкенда (**Prometheus** + **Node Exporter**), так и поработаем с фронтендом (**Grafana GUI**)

#### Вывод
В настройку сети и **iptables** углубляться не будем, так как у вас на работе будут готовые 50-100 тачек, на которых уже развёрнут софт и сетка уже давно растроена (мы идем на джун-джун+ специалиста, где по сетям особо гонять не будут). Либо же будет условный кейс по миграции системы мониторинга и миграции чего угодно с серверов CentOS на голые Ubuntu Server или на голые SberLinux. Удачи!
 (этот репозиторий уникален тем, что )
