# Grafana

_Пользуемся официальной документацией на GitHub (в основном там прописаны Docker файлы на запуск, но всегда есть конфиги)_

## Tasks

### [Примеры дашбордов](https://play.grafana.org/dashboards)

---

#### От вас требуется поднять
   `Grafana` - частично способом из раздела `Prometheus`:
 - Включите VPN на хостовой машине перед скачиванием `Grafana`, чтобы виртуалка подхватила загрузку (серверы Grafana заблокировали на территории РФ)
 - При этом упростите установку `Grafana` - после распаковки архива сделайте директорию распаковки рабочей сразу, чтобы не повторять шаги способом установки `Prometheus`
 - Установите `Grafana` и перейдите на веб-морду
 - Логин и пароль `Grafana`: **admin** и **admin** по умолчанию (не меняем)
 - Далее прописываем поднятый `Prometheus`, как `Data Source` в настройках `Grafana` (подсказка: `localhost:9090`)
 - Качаем дашборд `Prometheus` в формате `JSON` (откройте его в **Visual Studio Code** и посмотрите на структуру) с сайта `Grafana Lab`
   - Подгружаем дашборд в Grafana и сохраняем в новую папку `Grafana` под названием `Monitoring_Username`
   - С этого этапа используем **Visual Studio Code** для редактирования и чтения файлов `YAML` и `JSON` (подсказка: качаем плагин для `YAML` и `JSON`)
      - А также используем частично Nano, и не забваем как из него выходить и сохранять файлы
 - Посмотрите как выглядит дашборд, полистайте виджеты, подумайте что они означают

---

**Создайте новый дашборд** `prometheus_dashboard` в вашей папке и потренируйтесь переносить виджеты на свой дашборд с дашборда `Prometheus` (экспортеры пока не используем, `Prometheus` может мониторить сам себя и отдавать метрики):

**Уровень**: Нулевой
   - Скопируйте 4 виджета
   - Потренируйтесь менять размер виджетов
   - Поменяйте скопированные виджеты на кастом варианты в настройках виджетов (поиграйте, как в песочнице: с цветом, типами виджетов и т.д)
   - Сделайте ссылку-переход с оригинального дашборда `Prometheus` на ваш дашборд

---

**На основе** изученного материала: сделайте задания ниже:
  
**Уровень**: Начальный
   - Перейдите на страницу `Prometheus` по адресу `/metrics` (это называется эндроинт)
   - Найдите в списке метрик 4 метрики ссылаясь на **4 золотых сигнала**
   - Выведите метрики на дашборд и нарисуйте виджеты на основе изученного материала (вспоминаем таблицу соотношений типов метрик к золтым сигналам)
   - Сделайте **агрегацию** ваших метрик и возьмите в работу **функции** на основе изученного материала
   - Сохраните дашборд `prometheus_dashboard`

---

**Уровень**: Низкий
   - Натравите `Prometheus` на все экспортеры, написав конфиг файл, и замониторьте ваш сервер (вашу тачку) в `Grafana`
   - Сделайте один глобальный дашборд, который называется `Monitoring_Global` со ссылками на мониторинг ваших отдельных дашбордов для каждого экспортера и подумайте над визуалом странички этого дашборда, можно красиво вывести слева ссылку на дашборд, а справа маленький превью-виджет:
     - `prometheus`
     - `node-exporter`
     - `process-exporter`
     - `blackbox-exporter`
   - Подумайте логически и соберите еще один дашборд `All_Exporters` из всех экспортеров сразу в одном месте
     - Постройте логику таким образом, чтобы данные с дашборда хорошо читались (сверху вниз и слева направо без разрывов, с симметричными виджетами и одинаковыми размерами: то есть это будет один дашборд, набитый разными виджетами и разными метриками со всех экспортеров)
     - Например, можно взять логику дашборда сверху вниз:
       - `Node Exporter` выводит значения `CPU + RAM + HDD` сервера и схлопывается под шторку
       - `Process Exporter` выводит текущие процессы сервера и схлопывается под шторку
       - `BlackBox Exporter` мониторит ваши серверы и схлопывается под шторку
