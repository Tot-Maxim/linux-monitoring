# Grafana
_Пользуемся официальной документацией на GitHub (в основном там прописаны Docker файлы на запуск, но всегда есть конфиги)_
## Tasks

#### [Примеры дашбордов](https://play.grafana.org/dashboards)
---
**От вас требуется поднять** `Grafana` - частично способом из раздела `Prometheus`:
 - Включите VPN на хостовой машине перед скачиванием `Grafana`, чтобы виртуалка подхватила загрузку (серверы Grafana заблокировали на территории РФ)
 - При этом упростите установку `Grafana` - после распаковки архива сделайте директорию распаковки рабочей сразу, чтобы не повторять шаги способом установки `Prometheus`
 - Установите `Grafana` и перейдите на веб-морду
 - Логин и пароль `Grafana`: **admin** и **admin** по умолчанию 
 - Далее прописываем поднятый `Prometheus`, как `Data Source` в настройках `Grafana`
 - Качаем дашборд `Prometheus` в формате `JSON` (откройте его в VS Code и посмотрите на структуру) с сайта `Grafana Lab`
   - Подгружаем дашборд и сохраняем в папку `Grafana`
 - Посмотрите как выглядит дашборд, полистайте виджеты, подумайте что они означают

**Создайте новый дашборд** `prometheus_dashboard` и потренируйтесь переносить виджеты на свой дашборд с дашборда `Prometheus` (экспортеры пока не используем, `Prometheus` может мониторить сам себя и отдавать метрики):
   - Скопируйте 4 виджета
   - Потренируйтесь менять размер виджетов
   - Поменяйте скопированные виджеты на кастом варианты в настройках виджетов (поиграйте, как в песочнице)
   - Сделайте ссылку-переход с оригинального дашборда `Prometheus` на ваш дашборд
  
**На основе** изученного материала: сделайте задания ниже:
   - Перейдите на страницу `Prometheus` по адресу `/metrics` (это называется эндроинт)
   - Найдите **4 золотых сигнала** в списке метрик
   - Выведите метрики на дашборд и нарисуйте виджеты
   - Сделайте **агрегацию** ваших метрик и возьмите в работу **функции** на основе [изученного материала](https://github.com/lamjob1993/linux-monitoring/blob/main/prometheus/README.md "Как работает Prometheus и для чего он нужен")
   - Сохраните дашборд `prometheus_dashboard`

**На основе** изученного материала: сделайте задания ниже:
      - Натравите `Prometheus` на все экспортеры, написав конфиг файл, и замониторьте ваш сервер (вашу тачку) в `Grafana`
      - Сделайте один глобальный дашборд, который называется `Monitoring_Global` со ссылками на мониторинг ваших дашбордов и подумайте над визуалом странички этого дашборда, можно красиво вывести слева ссылку на дашборд, а справа маленький превью-виджет:
        - `prometheus`
        - `node-exporter`
        - `process-exporter`
        - `blackbox-exporter`
      - Подумайте логически и соберите еще один дашборд `All_Exporters` из всех экспортеров сразу в одном месте
        - Постройте логику таким образом, чтобы данные с дашборда хорошо читались (сверху вниз и слева направо без разрывов, с симметричными виджетами и одинаковыми размерами)
        - Например, можно взять логику дашборда сверху вниз:
          - `Node Exporter` выводит значения `CPU + RAM + HDD` сервера и схлопывается под шторку
          - `Process Exporter` выводит текущие процессы сервера и схлопывается под шторку
          - `BlackBox Exporter` мониторит ваши серверы и схлопывается под шторку
