3. **Соотношение золотых сигналов к типам метрик**

   **Таблица**
   
   | **Золотой сигнал** | **Описание** | **Тип метрики** | **Описание** | **Пример метрики** | **Пример запроса** | **Дополнительные комментарии** |
   |--------------------|--------------|-----------------|--------------|--------------------|--------------------|--------------------------------|
   | **Latency** (Латентность) | Время отклика системы | [Histogram/Summary](https://play.grafana.org/d/histogram_tests/histogram-examples?orgId=1&from=now-6h&to=now&timezone=utc) | Гистограмма/Сводка | `http_request_duration_seconds` | `histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))` | Используется для расчета процентилей времени отклика |
   | **Traffic** (Трафик) | Объем входящих запросов | [Counter](https://play.grafana.org/d/000000052/advanced-layout?orgId=1&from=now-3h&to=now&timezone=browser) | Счетчик | `http_requests_total` | `rate(http_requests_total[5m])` | Показывает общее количество запросов за определенный период |
   | **Errors** (Ошибки) | Количество ошибок | [Counter](https://play.grafana.org/d/cL5pLH7Wz/stats-overview?orgId=1&from=now-1h&to=now&timezone=browser) | Счетчик | `http_requests_total{status_code=~"5.."}` | `sum(rate(http_requests_total{status_code=~"5.."}[5m]))` | Фильтрует только ошибочные коды ответа (5xx) |
   | **Saturation** (Загрузка) | Уровень загруженности ресурсов | [Gauge](https://play.grafana.org/d/vmie2cmWz/bar-gauge?orgId=1&from=now-6h&to=now&timezone=utc&refresh=10s) | Индикатор | `node_cpu_seconds_total`, `node_memory_MemTotal` | `100 - (avg by (instance) (rate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)` | Измеряет использование CPU, памяти, дискового пространства |
   
   
   **Комментарий к таблице**:
   
   1. **Latency** обычно измеряется с помощью `Histogram` или `Summary`, так как они позволяют рассчитывать процентили.
   2. **Traffic** и **Errors** чаще всего используются с `Counter`, так как это счетчики событий.
   3. **Saturation** использует `Gauge`, так как показывает текущее состояние ресурсов (например, уровень загрузки CPU или использование памяти).
