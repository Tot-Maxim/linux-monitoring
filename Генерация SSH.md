## Генерация SSH ключа

### 1. **Проверка наличия SSH-ключа**
Убедитесь, что SSH-ключ действительно существует в вашей домашней директории (`~/.ssh/`).

Выполните команду:
```bash
ls -al ~/.ssh
```

Вы должны увидеть файлы `id_ed25519` и `id_ed25519.pub` (или `id_rsa` и `id_rsa.pub`, если использовали алгоритм RSA). Если их нет, значит, ключ не был создан, и вам нужно сгенерировать его заново.

---

### 2. **Проверка, что ключ добавлен в SSH-агент**
SSH-агент должен знать о вашем ключе. Проверьте, добавлен ли ключ в агент:

```bash
ssh-add -l
```

Если ключ не отображается, добавьте его вручную:

```bash
ssh-add ~/.ssh/id_ed25519  # или ~/.ssh/id_rsa, если использовали RSA
```

Если вы видите сообщение `Could not open a connection to your authentication agent`, запустите SSH-агент:

```bash
eval "$(ssh-agent -s)"
```

Затем снова добавьте ключ.

---

### 3. **Проверка прав доступа к файлам ключей**
SSH очень строг к правам доступа к файлам ключей. Убедитесь, что права настроены правильно:

- Приватный ключ (`id_ed25519` или `id_rsa`) должен иметь права `600` (только владелец может читать и записывать).
- Публичный ключ (`id_ed25519.pub` или `id_rsa.pub`) должен иметь права `644`.
- Директория `~/.ssh` должна иметь права `700`.

Исправьте права с помощью следующих команд:

```bash
chmod 700 ~/.ssh
chmod 600 ~/.ssh/id_ed25519  # или ~/.ssh/id_rsa
chmod 644 ~/.ssh/id_ed25519.pub  # или ~/.ssh/id_rsa.pub
```

---

### 4. **Проверка, что ключ добавлен в GitHub**
Убедитесь, что вы скопировали **публичный ключ** (содержимое файла `~/.ssh/id_ed25519.pub` или `~/.ssh/id_rsa.pub`) в настройках GitHub:

1. Перейдите в [GitHub SSH keys settings](https://github.com/settings/keys).
2. Убедитесь, что ключ добавлен.
3. Если ключ уже добавлен, удалите его и добавьте заново, чтобы убедиться, что он скопирован правильно.

---

### 5. **Проверка подключения с подробным выводом**
Чтобы получить больше информации о проблеме, выполните команду с подробным выводом:

```bash
ssh -T -v git@github.com
```

Это покажет детали процесса аутентификации. Обратите внимание на строки, где упоминается `publickey`. Если ключ не используется, SSH может пытаться использовать другой ключ или не находить его.

---

### 6. **Проверка конфигурации SSH**
Убедитесь, что SSH использует правильный ключ. Откройте файл конфигурации SSH:

```bash
nano ~/.ssh/config
```

Добавьте или проверьте наличие следующей конфигурации:

```plaintext
Host github.com
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_ed25519  # или ~/.ssh/id_rsa
  IdentitiesOnly yes
```

Сохраните файл и выйдите из редактора.

---

### 7. **Проверка подключения после настройки**
Попробуйте снова подключиться:

```bash
ssh -T git@github.com
```

Если всё настроено правильно, вы увидите:

```plaintext
Hi username! You've successfully authenticated, but GitHub does not provide shell access.
```

---

### 8. **Если ничего не помогло**
- Убедитесь, что вы используете правильный email при генерации ключа.
- Убедитесь, что вы используете правильный алгоритм ключа (GitHub рекомендует `ed25519`, но поддерживает и `rsa`).
- Если вы используете несколько SSH-ключей, убедитесь, что SSH-агент использует правильный ключ для GitHub.
